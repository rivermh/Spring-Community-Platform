<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	th:replace="~{layout/layout :: layout(content=~{::content})}">

<th:block th:fragment="content">
	<div class="row justify-content-center">
		<div class="col-lg-9 col-xl-8">

			<div class="mb-4">
				<h2 class="fw-bold text-dark mb-1" style="letter-spacing: -1px;"
					th:text="#{post.edit.title}">ê²Œì‹œê¸€ ìˆ˜ì •</h2>
				<p class="text-muted small" th:text="#{post.edit.subtitle}">ê¸°ì¡´ì˜
					ë‚´ìš©ì„ ë‹¤ë“¬ì–´ ë” ë©‹ì§„ ê¸€ì„ ì™„ì„±í•´ë³´ì„¸ìš”.</p>
			</div>

			<div class="card shadow-sm border-0 rounded-4">
				<div class="card-body p-4 p-md-5">
					<form th:action="@{|/posts/${post.id}/edit|}" method="post"
						th:onsubmit="if(this.title.value.trim() == '' || this.content.value.trim() == '') { alert([[#{post.form.err.empty}]]); return false; }">

						<div class="mb-4">
							<label class="form-label fw-bold text-dark small text-uppercase"
								th:text="#{post.form.label.title}">Title</label> <input
								type="text" name="title"
								class="form-control border-0 bg-light py-3 px-4 rounded-3 fw-medium"
								th:placeholder="#{post.edit.placeholder.title}"
								th:value="${post.title}" required pattern=".*\S.*"
								th:oninvalid="this.setCustomValidity([[#{post.edit.err.title}]])"
								oninput="this.setCustomValidity('')">
						</div>

						<div class="mb-4">
							<label class="form-label fw-bold text-dark small text-uppercase"
								th:text="#{post.form.label.content}">Content</label>
							<textarea name="content"
								class="form-control border-0 bg-light p-4 rounded-3" rows="12"
								style="resize: none; line-height: 1.6;"
								th:placeholder="#{post.edit.placeholder.content}" required
								th:oninvalid="this.setCustomValidity([[#{post.edit.err.content}]])"
								oninput="this.setCustomValidity('')" th:text="${post.content}"></textarea>
						</div>

						<hr class="my-4 opacity-25">

						<div class="d-flex justify-content-between align-items-center">
							<a th:href="@{|/posts/${post.id}|}"
								class="btn btn-link text-muted text-decoration-none small"
								th:text="#{post.edit.btn.cancel}"> ì·¨ì†Œí•˜ê³  ëŒì•„ê°€ê¸° </a>

							<div class="d-flex gap-2">
								<button type="submit"
									class="btn btn-primary px-5 py-2 rounded-pill fw-bold shadow-sm"
									th:text="#{post.edit.btn.submit}">ìˆ˜ì • ì™„ë£Œ</button>
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="mt-4 text-center">
				<p class="text-muted small" th:text="#{post.edit.info}">ğŸ’¡ ìˆ˜ì •í•œ
					ë‚´ìš©ì€ ì¦‰ì‹œ ê²Œì‹œíŒì— ë°˜ì˜ë©ë‹ˆë‹¤.</p>
			</div>
		</div>
	</div>

	<style>
.form-control {
	transition: all 0.2s ease-in-out;
	border: 2px solid transparent !important;
}

.form-control:focus {
	background-color: #fff !important;
	border: 2px solid #0d6efd !important;
	box-shadow: 0 4px 12px rgba(13, 110, 253, 0.08) !important;
}

/* ê³µë°±ì´ê±°ë‚˜ ë¹„ì–´ìˆì–´ì„œ ìœ íš¨í•˜ì§€ ì•Šì„ ë•Œ í¬ì»¤ìŠ¤ë˜ë©´ ë¹¨ê°„ìƒ‰ */
.form-control:invalid:focus {
	border: 2px solid #dc3545 !important;
	box-shadow: 0 4px 12px rgba(220, 53, 69, 0.08) !important;
}

/* ìœ íš¨í•œ ì…ë ¥ì¼ ë•Œ ì´ˆë¡ìƒ‰ (ì‚¬ìš©ì í”¼ë“œë°±ìš©) */
.form-control:valid:not(:placeholder-shown) {
	border: 2px solid #198754 !important;
}
</style>
</th:block>
</html>