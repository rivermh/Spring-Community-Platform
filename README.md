# [Project] Spring Boot Community Platform

<div align="center">
  <img src="https://img.shields.io/badge/Java-17-orange?style=flat-square&logo=java" alt="Java 17">
  <img src="https://img.shields.io/badge/SpringBoot-3.2.5-green?style=flat-square&logo=springboot" alt="SpringBoot 3.2.5">
  <img src="https://img.shields.io/badge/SpringSecurity-6.x-blueviolet?style=flat-square&logo=springsecurity" alt="SpringSecurity">
  <img src="https://img.shields.io/badge/JPA-Hibernate-red?style=flat-square&logo=hibernate" alt="JPA">
</div>

---

## â–  Language Selector
- [æ—¥æœ¬èª (Japanese)](#-jp-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
- [í•œêµ­ì–´ (Korean)](#-ko-í”„ë¡œì íŠ¸-ê°œìš”)

---

## ğŸ‡¯ğŸ‡µ [JP] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### â–¡ é–‹ç™ºèƒŒæ™¯
å®Ÿå‹™ã§åˆ©ç”¨ã•ã‚Œã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’æƒ³å®šã—ã€ã€Œå …ç‰¢ãªèªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã€ã¨ã€Œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ€§èƒ½ã®æœ€é©åŒ–ã€ã‚’é‡ç‚¹çš„ã«é–‹ç™ºã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çŠ¶æ…‹é·ç§»ï¼ˆèªè¨¼å‰ã€æœ‰åŠ¹ã€é€€ä¼šæ¸ˆï¼‰ã«ä¼´ã†ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã¨ã€JPAã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ç…§ä¼šã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚

### â–¡ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ (Tech Stack)
- **Backend**: Spring Boot 3.2.5, Spring Security, Spring Data JPA
- **Database**: H2 / MySQL
- **Frontend**: Thymeleaf, JavaScript (Fetch API), Bootstrap 5
- **Library**: Lombok, Java Mail Sender

### â–¡ ä¸»ãªæ©Ÿèƒ½ (Core Features)
1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼çŠ¶æ…‹ç®¡ç†**: ACTIVE, INACTIVE(æœªèªè¨¼), WITHDRAWN(é€€ä¼šæ¸ˆ)ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
2. **å¤šé‡ãƒ­ã‚°ã‚¤ãƒ³æ¤œè¨¼**: Spring Securityã‚’æ‹¡å¼µã—ã€èªè¨¼æˆåŠŸå¾Œã‚‚ãƒ¦ãƒ¼ã‚¶ãƒ¼çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè£…
3. **ãƒ¡ãƒ¼ãƒ«èªè¨¼**: UUIDãƒˆãƒ¼ã‚¯ãƒ³ã«ã‚ˆã‚‹æœ¬äººç¢ºèªã‚’è¡Œã„ã€æœ‰åŠ¹ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã¿ã‚’æ´»æ€§åŒ–
4. **ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¾©æ—§**: é€€ä¼šçŠ¶æ…‹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒID/PWèªè¨¼ã‚’çµŒã¦è‡ªã‚‰å¾©æ—§ã§ãã‚‹æ©Ÿèƒ½
5. **ãƒã‚¤ãƒšãƒ¼ã‚¸**: æŠ•ç¨¿ã€ã‚³ãƒ¡ãƒ³ãƒˆã€ã„ã„ã­ä¸€è¦§ã®ç®¡ç†æ©Ÿèƒ½

---

## ğŸ‡°ğŸ‡· [KO] í”„ë¡œì íŠ¸ ê°œìš”

### â–¡ ê°œë°œ ë°°ê²½
ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ìš”êµ¬ë˜ëŠ” ë³´ì•ˆê³¼ ì„±ëŠ¥ ìµœì í™”ë¥¼ ëª©í‘œë¡œ ì„¤ê³„í•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ë³µì¡í•œ ìƒíƒœ ë³€í™”(ì¸ì¦ ì „, í™œì„±, íƒˆí‡´)ì— ë”°ë¥¸ ì ‘ê·¼ ì œì–´ë¥¼ ì„¸ë°€í•˜ê²Œ ê´€ë¦¬í•˜ê³ , JPA ì‚¬ìš© ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì„±ëŠ¥ ì €í•˜ë¥¼ í•´ê²°í•˜ëŠ” ë° ì£¼ë ¥í–ˆìŠµë‹ˆë‹¤.

### â–¡ í•µì‹¬ ê¸°ëŠ¥ (Core Features)
1. **ìœ ì € ìƒíƒœ ê´€ë¦¬**: ACTIVE, INACTIVE(ë¯¸ì¸ì¦), WITHDRAWN(íƒˆí‡´) ìƒíƒœê°’ì„ í†µí•œ ì„œë¹„ìŠ¤ ì ‘ê·¼ ì œì–´
2. **ì»¤ìŠ¤í…€ ë³´ì•ˆ í•¸ë“¤ëŸ¬**: ë¡œê·¸ì¸ ì„±ê³µ í›„ì—ë„ ìœ ì € ìƒíƒœë¥¼ ì¬ê²€ì¦í•˜ì—¬ ë¶€ì í•©í•œ ì ‘ê·¼ì„ ì°¨ë‹¨í•˜ëŠ” ë¡œì§ êµ¬í˜„
3. **ì´ë©”ì¼ ì¸ì¦**: UUID í† í°ì„ ì´ìš©í•œ ë³¸ì¸ í™•ì¸ ë° ê³„ì • í™œì„±í™” í”„ë¡œì„¸ìŠ¤ êµ¬ì¶•
4. **ê³„ì • ë³µêµ¬ ì‹œìŠ¤í…œ**: íƒˆí‡´í•œ ìœ ì €ê°€ ë³¸ì¸ í™•ì¸(ID/PW)ì„ í†µí•´ ê³„ì •ì„ ë‹¤ì‹œ í™œì„±í™”í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥
5. **í™œë™ ê´€ë¦¬**: ë§ˆì´í˜ì´ì§€ë¥¼ í†µí•´ ë³¸ì¸ì´ ì‘ì„±í•œ ê²Œì‹œê¸€, ëŒ“ê¸€, ì¢‹ì•„ìš” ë‚´ì—­ í™•ì¸

---

## â–  æŠ€è¡“çš„è§£æ±º (Technical Problem Solving)

### 01. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®ç®¡ç† (ìœ ì € ìƒëª…ì£¼ê¸° ê´€ë¦¬)
- **èª²é¡Œ (Problem)**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€€ä¼šã—ã¦ã‚‚çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ä¿æŒã®ãŸã‚ã«ç‰©ç†å‰Šé™¤ã¯é¿ã‘ãŸã„ãŒã€é€€ä¼šæ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å†æ´»å‹•ã¯å®Œå…¨ã«é˜²ãå¿…è¦ãŒã‚ã‚‹ã€‚
- **è§£æ±º (Solution)**: `UserStatus` (ACTIVE, INACTIVE, WITHDRAWN) ã‚’å®šç¾©ã—ã€è«–ç†å‰Šé™¤(Soft Delete)ã‚’æ¡ç”¨ã€‚èªè¨¼æˆåŠŸç›´å¾Œã« `SuccessHandler` ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ä¸é©åˆ‡ãªå ´åˆã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç„¡åŠ¹åŒ–ã€‚
- **çµæœ (Result)**: ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’ä¿ã¡ã¤ã¤ã€é€€ä¼šã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚ˆã‚‹ä¸æ­£åˆ©ç”¨ã‚’å®Œå…¨ã«é®æ–­ã€‚

### 02. JPA N+1 å•é¡Œã®æ”¹å–„ (N+1 ë¬¸ì œ í•´ê²°)
- **èª²é¡Œ (Problem)**: æŠ•ç¨¿ä¸€è¦§ï¼ˆPostï¼‰ã®è¡¨ç¤ºæ™‚ã€ä½œæˆè€…ï¼ˆUserï¼‰æƒ…å ±ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«æŠ•ç¨¿æ•°(N)ã ã‘è¿½åŠ ã‚¯ã‚¨ãƒªãŒç™ºç”Ÿã—ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦ãŒä½ä¸‹ã€‚
- **è§£æ±º (Solution)**: Repositoryãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ `@EntityGraph` ã‚’æ´»ç”¨ã—ã€`Fetch Join` ã‚’å®Ÿè¡Œã€‚
- **çµæœ (Result)**: ã‚¯ã‚¨ãƒªç™ºè¡Œå›æ•°ã‚’ **101å› â†’ 1å›** (100ä»¶åŸºæº–) ã«å‰Šæ¸›ã€‚DBè² è·ã‚’åŠ‡çš„ã«æ”¹å–„ã€‚

### 03. å…±é€šä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° (ê³µí†µ ì˜ˆì™¸ ì²˜ë¦¬)
- **èª²é¡Œ (Problem)**: å„ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã§ã®ä¾‹å¤–å‡¦ç†ã®é‡è¤‡ã¨ã€ä¸€è²«æ€§ã®ãªã„ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã«ã‚ˆã‚‹ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®é–‹ç™ºåŠ¹ç‡ä½ä¸‹ã€‚
- **è§£æ±º (Solution)**: `@RestControllerAdvice` ã‚’åˆ©ç”¨ã—ãŸ `GlobalExceptionHandler` ã‚’å®Ÿè£…ã—ã€ã™ã¹ã¦ã®ä¾‹å¤–ã‚’ `ErrorResponse` ã‚ªãƒ–ì íŠ¸ã«çµ±ä¸€ã€‚
- **çµæœ (Result)**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ§‹é€ åŒ–ã«ã‚ˆã‚Šã€é–‹ç™ºç”Ÿç”£æ€§ã¨ä¿å®ˆæ€§ãŒå‘ä¸Šã€‚

---

## â–  ä¸»è¦APIä»•æ§˜ (Main API Specification)

| Method | Path | Description (KR) | èª¬æ˜ (JP) |
| :--- | :---: | :--- | :--- |
| `POST` | `/auth/register` | íšŒì›ê°€ì… ë° ì¸ì¦ ë©”ì¼ ë°œì†¡ | ä¼šå“¡ç™»éŒ²åŠã³èªè¨¼ãƒ¡ãƒ¼ãƒ«é€ä¿¡ |
| `GET` | `/auth/verify` | ì´ë©”ì¼ í† í° ì¸ì¦ ì²˜ë¦¬ | ãƒ¡ãƒ¼ãƒ«ãƒˆãƒ¼ã‚¯ãƒ³èªè¨¼å‡¦ç† |
| `POST` | `/user/restore` | íƒˆí‡´ ìœ ì € ê³„ì • ìê°€ ë³µêµ¬ | é€€ä¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè‡ªå·±å¾©æ—§ |
| `GET` | `/post/list` | ê²Œì‹œê¸€ í˜ì´ì§• ë° ê²€ìƒ‰ ì¡°íšŒ | æŠ•ç¨¿ä¸€è¦§ã®ç…§ä¼šï¼ˆæ¤œç´¢ãƒ»ãƒšãƒ¼ã‚¸ãƒ³ã‚°ï¼‰ |
| `POST` | `/post/like/{id}` | ì¢‹ì•„ìš” í† ê¸€ ì²˜ë¦¬ | ã„ã„ã­ã®åˆ‡ã‚Šæ›¿ãˆï¼ˆToggleï¼‰ |

---

## â–  Database Schema (ERD)

- **User**: å…¨ã¦ã®æ´»å‹•ã®ä¸»è»¸ã€‚çŠ¶æ…‹(`status`)ã¨æ¨©é™(`role`)ã‚’ç®¡ç†ã€‚
- **Post**: æŠ•ç¨¿ãƒ‡ãƒ¼ã‚¿ã€‚Userã¨1:Nã®é–¢ä¿‚ã€‚
- **Comment**: æŠ•ç¨¿ã«å¯¾ã™ã‚‹è¿”ä¿¡ã€‚UserãŠã‚ˆã³Postã¨é–¢é€£ä»˜ã‘ã€‚
- **PostLike**: é‡è¤‡é˜²æ­¢ã®ãŸã‚ã€Userã¨Postã®çµ„ã¿åˆã‚ã›ã«ãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„ã‚’é©ç”¨ã€‚

> ![ERD](./docs/erd.png) ---

## â–  Project Structure (í•œì¼ ë³‘í–‰ ìƒì„¸)

```text
src/main/java/com/example/demo/
â”œâ”€â”€ common/                     # å…±é€šãƒ‡ãƒ¼ã‚¿åŠã³è¦æ ¼ (ê³µí†µ ë°ì´í„° ë° ê·œê²©)
â”‚   â”œâ”€â”€ UserStatus.java         # ãƒ¦ãƒ¼ã‚¶ãƒ¼çŠ¶æ…‹ (ìœ ì € ìƒíƒœ: ACTIVE, INACTIVE, WITHDRAWN)
â”‚   â””â”€â”€ BaseTimeEntity.java     # ä½œæˆ/ä¿®æ­£æ™‚é–“ã®å…±é€šç®¡ç† (ê³µí†µ ìƒì„±/ìˆ˜ì • ì‹œê°„ ê´€ë¦¬)
â”œâ”€â”€ config/                     # ã‚·ã‚¹ãƒ†ãƒ è¨­å®š (ì‹œìŠ¤í…œ ì„¤ì •)
â”‚   â””â”€â”€ SecurityConfig.java     # Spring Securityè¨­å®šåŠã³ãƒ‘ã‚¹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ (ë³´ì•ˆ ì„¤ì •)
â”œâ”€â”€ exception/                  # ä¾‹ì™¸ ì²˜ë¦¬ (ì˜ˆì™¸ ì²˜ë¦¬)
â”‚   â”œâ”€â”€ GlobalExceptionHandler.java # å…¨åŸŸä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° (ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬)
â”‚   â””â”€â”€ ErrorResponse.java      # å…±é€šã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¦æ ¼ (ê³µí†µ ì—ëŸ¬ ì‘ë‹µ ê·œê²©)
â”œâ”€â”€ security/                   # èªè¨¼ãƒ»èªå¯ã®ãƒ­ã‚¸ãƒƒã‚¯ (ì¸ì¦ ë° ì¸ê°€ ë¡œì§)
â”‚   â”œâ”€â”€ CustomUserDetails.java  # Securityå°‚ç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (ë³´ì•ˆ ì „ìš© ìœ ì € ê°ì²´)
â”‚   â”œâ”€â”€ CustomUserDetailsService.java # DBé€£å‹•èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹ (DB ì—°ë™ ì¸ì¦ ì„œë¹„ìŠ¤)
â”‚   â”œâ”€â”€ CustomLoginSuccessHandler.java # ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸæ™‚ã®çŠ¶æ…‹æ¤œè¨¼ (ë¡œê·¸ì¸ ì„±ê³µ í•¸ë“¤ëŸ¬)
â”‚   â””â”€â”€ CustomLoginFailureHandler.java # ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—æ™‚ã®äº‹ç”±åˆ¥ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° (ë¡œê·¸ì¸ ì‹¤íŒ¨ í•¸ë“¤ëŸ¬)
â”œâ”€â”€ email/                      # ãƒ¡ãƒ¼ãƒ«èªè¨¼ãƒ‰ãƒ¡ã‚¤ãƒ³ (ì´ë©”ì¼ ì¸ì¦ ë„ë©”ì¸)
â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â””â”€â”€ EmailVerificationToken.java # èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ (ì¸ì¦ í† í° ì—”í‹°í‹°)
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â””â”€â”€ EmailVerificationTokenRepository.java
â”‚   â””â”€â”€ service/
â”‚       â””â”€â”€ MailService.java    # SMTPã‚’åˆ©ç”¨ã—ãŸãƒ¡ãƒ¼ãƒ«é€ä¿¡ (ë©”ì¼ ë°œì†¡ ì„œë¹„ìŠ¤)
â”œâ”€â”€ post/                       # æŠ•ç¨¿åŠã³ã„ã„ã­ãƒ‰ãƒ¡ã‚¤ãƒ³ (ê²Œì‹œê¸€ ë° ì¢‹ì•„ìš” ë„ë©”ì¸)
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ PostController.java
â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”œâ”€â”€ Post.java
â”‚   â”‚   â””â”€â”€ PostLike.java       # æŠ•ç¨¿ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®N:Mé€£çµ (ê²Œì‹œë¬¼-ìœ ì € ì—°ê²° ì—”í‹°í‹°)
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”œâ”€â”€ PostRepository.java # @EntityGraphã«ã‚ˆã‚‹æœ€é©åŒ– (Fetch Join ì ìš©)
â”‚   â”‚   â””â”€â”€ PostLikeRepository.java
â”‚   â””â”€â”€ service/
â”‚       â”œâ”€â”€ PostService.java
â”‚       â””â”€â”€ PostLikeService.java
â”œâ”€â”€ comment/                    # ã‚³ãƒ¡ãƒ³ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ (ëŒ“ê¸€ ë„ë©”ì¸)
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ CommentController.java
â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â””â”€â”€ Comment.java
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â””â”€â”€ CommentRepository.java
â”‚   â””â”€â”€ service/
â”‚       â””â”€â”€ CommentService.java
â””â”€â”€ user/                       # ãƒ¦ãƒ¼ã‚¶ãƒ¼åŠã³ãƒã‚¤ãƒšãƒ¼ã‚¸ (ìœ ì € ë° ë§ˆì´í˜ì´ì§€)
    â”œâ”€â”€ controller/
    â”‚   â”œâ”€â”€ AccountController.java  # ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¾©æ—§åŠã³èªè¨¼ç®¡ç† (ê³„ì • ë³µêµ¬ ë° ì¸ì¦)
    â”‚   â”œâ”€â”€ AuthController.java     # ä¼šå“¡ç™»éŒ²åŠã³ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ (íšŒì›ê°€ì… ë° ë¡œê·¸ì¸)
    â”‚   â”œâ”€â”€ MyPageController.java   # æ´»å‹•å±¥æ­´ã®ç…§ä¼šåŠã³é€€ä¼š (í™œë™ ì¡°íšŒ ë° íƒˆí‡´)
    â”‚   â””â”€â”€ UserCheckController.java # é‡è¤‡ãƒã‚§ãƒƒã‚¯(REST API) (ì¤‘ë³µ ì²´í¬)
    â”œâ”€â”€ entity/
    â”‚   â”œâ”€â”€ User.java               # ãƒ¦ãƒ¼ã‚¶ãƒ¼åŸºå¹¹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ (ìœ ì € í•µì‹¬ ì—”í‹°í‹°)
    â”‚   â””â”€â”€ Role.java               # æ¨©é™åŒºåˆ† (ê¶Œí•œ êµ¬ë¶„: USER, ADMIN)
    â”œâ”€â”€ repository/
    â”‚   â””â”€â”€ UserRepository.java
    â””â”€â”€ service/
        â””â”€â”€ UserService.java        # ä¼šå“¡ç™»éŒ²ã€é€€ä¼šã€å¾©æ—§ãƒ­ã‚¸ãƒƒã‚¯ (íšŒì› ê´€ë¦¬ ë¡œì§)
